(function(e,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("@tanstack/vue-query"),require("vue")):typeof define=="function"&&define.amd?define(["exports","@tanstack/vue-query","vue"],r):(e=typeof globalThis<"u"?globalThis:e||self,r(e.VueQueryRequestUtils={},e.VueQuery,e.Vue))})(this,function(e,r,d){"use strict";const A=Symbol("api");function y(){const t=d.inject(A);if(!t)throw new Error("No API instance provided. You must call provideApi() in your app setup.");return t}function w(t){return{install(i){i.provide(A,t)}}}function v({url:t,queryKey:i,API:a,options:u,paramRef:c}){const o=d.computed(()=>d.unref(i)),f=y(),s=a??f;return r.useQuery({queryKey:o.value,queryFn:async({queryKey:l})=>{const n=t;if(!n)throw new Error(`API inválida para el queryKey: ${l.join(", ")}`);return(await s.get(n,{params:c||{}})).data},...u})}function h({API:t,method:i,url:a,requestConfig:u,options:c,mutationKey:o}){const f=y(),s=t??f;return r.useMutation({mutationKey:o?Array.isArray(o)?o:[o]:void 0,mutationFn:async l=>{let n;const p=l??{};switch(i){case"post":n=await s.post(a,p,u);break;case"put":n=await s.put(a,p,u);break;case"patch":n=await s.patch(a,p,u);break;case"delete":n=await s.delete(a,{...u,data:p});break;default:throw new Error(`Método HTTP no soportado: ${i}`)}return n.data},...c})}e.provideApi=w,e.useApi=y,e.useGet=v,e.useSend=h,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})});
